<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bajada de pesos</title>
</head>
<body>
    <h1>Bienvenido a TuttiGym</h1>
<img width="400" src="../gimnasio.jpg" alt=""> <br> <br> 
    <input id="pesoActual" type="text">
    <p>Introduzca su peso actual:</p>
    <button onclick="guardar()">Guardar</button>
    <p id="resultado"></p>
    
    <script>
        let pesoAnterior = 100000;  // valor inicial
        function guardar()  {
           let pesoActual= document.getElementById("pesoActual").value;

           /*  !=null solo verifica si la variable no es nula, independientemente de su contenido.
    !="" verifica si la cadena no está vacía, pero no verifica si la variable es nula.*/
                                    
           if(pesoActual!="")   { // si pesoactual contiene algun valor, la condicion sera verdadera 
            localStorage.setItem("peso",pesoActual)
           }
           if(pesoActual>pesoAnterior){
            document.getElementById("resultado").innerHTML = "Hay que reducir carbohidratos"
           }
           if(pesoActual==pesoAnterior){
            document.getElementById("resultado").innerHTML = "Pesas lo mismo que la última vez"
           }
           if(pesoActual<pesoAnterior){
            document.getElementById("resultado").innerHTML = "¡Sigue así crack!"
           }
           else{
            document.getElementById("resultado").innerHTML = "Tienes que introducir tu peso en Kg"
           }
        }

        function cargaPagina()  {
            var almacenado = localStorage.getItem("peso");
            if(almacenado!=null){
                pesoAnterior= parseFloat(almacenado)
                document.getElementById("resultado").innerHTML = "Tu peso anterior era de " + pesoAnterior + "Kg"
            }

        }

        window.onload = cargaPagina();

</script>
</body>
</html>